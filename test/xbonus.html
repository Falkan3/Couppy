<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Couppy test page</title>

	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0">

	<!-- Favicon -->
	<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
	<link rel="manifest" href="site.webmanifest">
	<link rel="mask-icon" href="safari-pinned-tab.svg" color="#ff5322">
	<meta name="msapplication-TileColor" content="#ffc40d">
	<meta name="theme-color" content="#ffffff">
	<!-- /Favicon -->

	<!--<link href="https://fonts.googleapis.com/css?family=K2D:400,700|Krub:300,400,700&amp;subset=latin-ext" rel="stylesheet">-->

	<!-- ====== Couppy dependencies ====== -->
	<!--<script src="https://unpkg.com/axios/dist/axios.min.js"></script>-->
	<!--<script src="../libs/formatter/formatter.min.js" type="text/javascript"></script>-->
	<!--<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">-->
	<!-- ====== Couppy plugin main css file ====== -->
	<link href="../src/css/style.css" rel="stylesheet" type="text/css" media="all">
	<!-- ====== Couppy plugin main js file ====== -->
	<!--<script type="text/javascript" src="../src/js/couppy.js"></script>-->

	<script type="text/javascript" src="../src/js/bundle.js"></script>
</head>
<body>
<style type="text/css">
	html {
		font-size: 14px;
	}

	@media only screen and (max-width: 1399px) {
		html {
			font-size: 13px;
		}
	}

	@media only screen and (max-width: 1199px) {
		html {
			font-size: 12px;
		}
	}

	@media only screen and (max-width: 767px) {
		html {
			font-size: 11px;
		}
	}
</style>

<script type="text/javascript">
    // DOM loaded event listener, can be placed anywhere, will fire when DOM is loaded and ready
    document.addEventListener("DOMContentLoaded", function (event) {
        // Your code to run since DOM is loaded and ready

        let CouppySettings = {
            state: {
                popupTriggerActive: false,
                active: false,
                timerActive: false
            },
            appearance: {
                style: 2,
                logo: {
                    url: 'https://bostonsofa.pl/skins/user/rwd_shoper_3/images/logo.png',
                    alt: 'bostonsofa logo'
                },
                pwdBy: {
                    url: 'https://properad.pl/theme/ProperAd/img/logo.jpg',
                    alt: 'Properad'
                },
                popupTrigger: {
                    classList: ['js-couppy__popup-trigger--right']
                },
                timer: true
            },
            data: {
                api: {
                    url: 'https://webfield.pl/xbonus/index2.php/', // CURRENTLY TEST 'https://webfield.pl/xbonus/'
                    params: {
                        key: 'sAxeewA9CY8k', // CURRENTLY TEST 'FYrw7mEuKfT5'
                    }
                },
                promo: {
                    value: 5,
                    suffix: '%',
                },
                timer: {
                    value: 300
                }
            },
            text: {
                popupTrigger: {
                    first: '5%',
                    second: 'Rabat',
                },
                title: 'ZACZEKAJ - podaj nr telefonu i email, na który<br>wyślemy Twój indywidualny kod rabatowy',
                promo: 'zniżki',
                btn: {
                    default: 'Prześlij mi kod rabatowy',
                    sending: 'Wysyłanie...',
                    success: 'Sukces'
                },
                footerText: {
                    btn: {
                        more: 'Więcej\xa0szczegółów',
                        less: 'Mniej\xa0szczegółów',
                    },
                    short: 'Administratorem danych jest Bostonsofa Paweł Seroka. Dane będą przetwarzane w celu marketingu bezpośredniego naszych produktów i usług. Podstawą prawną przetwarzania jest uzasadniony interes Administratora.',
                    long: 'Administratorem Twoich danych jest Bostonsofa Paweł Seroka. Dane będą przetwarzane w celu marketingu bezpośredniego naszych produktów i usług. Podstawą prawną przetwarzania jest uzasadniony interes Administratora. Każdorazowo przysługuje Ci prawo żądania dostępu do danych, sprostowania ich, usunięcia lub cofnięcia wyrażonej zgody, a także inne prawa opisane szczegółowo w polityce prywatności. Odbiorcami Twoich danych, czyli podmiotami, którym Twoje dane mogą zostać przekazane, będą podmioty pomagające Nam w działaniach związanych z opisanym wyżej marketingiem bezpośrednim produktów i usług własnych oraz inne podmioty uprawnione do uzyskania danych na podstawie obowiązującego prawa.'
                },
                thankYou: {
                    top: '<i class="fas fa-check"></i> Twój kod rabatowy został wysłany!',
                    bottom: 'Użyj go robiąc zakupy online lub w\xa0trakcie rozmowy z\xa0naszym konsultantem.',
                },
                timer: {
                    title: 'Nasza oferta będzie ważna tylko przez 5 minut!'
                },
                api: {
                    error: 'Błąd wysyłki na podany numer'
                }
            },
            inputs: {
                fields: [
                    {
                        regex: "(?<!\\w)(\\(?(\\+|00)?48\\)?)?[ -]?\\d{3}[ -]?\\d{3}[ -]?\\d{3}(?!\\w)",
                        pattern: '{{999}}-{{999}}-{{999}}',
                        patterns: [
                            {'^\d{3}[-]?\d{3}[-]?\d{3}$': 'mobile: {{999}}-{{999}}-{{999}}'},
                            {'^\d{2}[ -]?\d{3}[-]?\d{2}[-]?\d{2}$': 'landline: {{99}} {{999}}-{{99}}-{{99}}'},
                        ],
                        text: {
                            invalid: 'Telefon jest nieprawidłowy'
                        },
                        attributes: {
                            name: 'number',
							type: 'tel',
                            placeholder: "000-000-000",
                            title: 'Numer telefonu'
                        }
                    },
                    {
                        regex: "^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$",
                        text: {
                            invalid: 'Email jest nieprawidłowy'
                        },
                        attributes: {
                            name: 'email',
							type: 'email',
                            placeholder: "email",
                            title: 'Email'
                        }
                    }
                ],
                agreements: [
                    {
                        text: {
                            short: 'Wyrażam zgodę na otrzymywanie od Bostonsofa Paweł Seroka oraz operatora SMS/email WebField Sp. z o.o. informacji handlowej',
                            long: 'w rozumieniu art. 10 ust. 2 Ustawy z dnia 18 lipca 2002 r. o świadczeniu usług drogą elektroniczną (Dz.U. Nr 144, poz. 1204) na podany adres poczty elektronicznej oraz numer telefonu.',
                            readmore: 'Rozwiń',
                            readless: 'Zwiń',
                            invalid: 'Regulacje RODO wymagają od nas zebrania odpowiednich zgód - bez nich nie możemy przesłać kodu rabatowego.'
                        },
                        attributes: {
                            name: 'agreement_1',
                            required: true,
                        },
                    },
                    {
                        text: {
                            short: 'Wyrażam zgodę na używanie telekomunikacyjnych urządzeń końcowych i automatycznych systemów wywołujących',
                            long: 'w stosunku do podanego przeze mnie numeru telefonu oraz adresu email dla celów marketingu bezpośredniego przez Bostonsofa Paweł Seroka oraz operatora SMS/email WebField Sp. z o.o..',
                            readmore: 'Rozwiń',
                            readless: 'Zwiń',
                            invalid: 'Regulacje RODO wymagają od nas zebrania odpowiednich zgód - bez nich nie możemy przesłać kodu rabatowego.'
                        },
                        attributes: {
                            name: 'agreement_2',
                            required: true,
                        },
                    }
                ]
            },
            callbackOnOpen: function () {
                Couppy.activeToggle(false, {autoClose: false});
                Couppy.timerToggle(true);
            },
            callbackOnClose: function () {
                Couppy.popupTriggerToggle(true);
            },
			callbackOnTimerUp: function () {
                Couppy.activeToggle(false);
                Couppy.popupTriggerToggle(false);
			}
        };

        try {
            Couppy.init(CouppySettings);
            Couppy.open();
        } catch (ex) {
            console.log('Couppy init error');
        }
    });

    // self executing function, must be placed just before the closing body tag
    (function () {
        // Couppy.init();
    })();
</script>
</body>
</html>